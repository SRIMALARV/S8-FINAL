<div class="statistics-container">
  <h2>Moderator Dashboard</h2>

  <div class="filter-buttons">
    <button [class.active]="filterType === 'day'" (click)="setFilter('day')">
      Day
    </button>
    <button [class.active]="filterType === 'week'" (click)="setFilter('week')">
      Week
    </button>
    <button
      [class.active]="filterType === 'month'"
      (click)="setFilter('month')"
    >
      Month
    </button>
    <button [class.active]="filterType === 'year'" (click)="setFilter('year')">
      Year
    </button>
  </div>

  <div class="date-selection">
    <div>
      <label for="year">Year:</label>
      <select
        id="year"
        [(ngModel)]="selectedYear"
        (change)="fetchAppointments()"
      >
        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
      </select>
    </div>

    <div>
      <label for="month">Month:</label>
      <select
        id="month"
        [(ngModel)]="selectedMonth"
        (change)="fetchAppointments()"
      >
        <option *ngFor="let month of months" [value]="month">
          {{ month }}
        </option>
      </select>
    </div>
  </div>

  <div class="stats-grid">
    <div class="stat-card">
      <h3>Total Revenue</h3>
      <p>â‚¹{{ totalRevenue.toLocaleString() }}</p>
    </div>
    <div class="stat-card">
      <h3>Total Orders</h3>
      <p>{{ totalAppointments }}</p>
    </div>
    <div class="stat-card">
      <h3>Unique Customers</h3>
      <p>{{ uniqueCustomers }}</p>
    </div>
  </div>

  <canvas #revenueChart></canvas>
  <div class="chart-container">
    <canvas #serviceChart></canvas>
  </div>
  
</div>
